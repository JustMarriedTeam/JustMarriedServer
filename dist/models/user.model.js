"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _bluebird=require("bluebird"),_bluebird2=_interopRequireDefault(_bluebird),_mongoose=require("mongoose"),_mongoose2=_interopRequireDefault(_mongoose),_httpStatus=require("http-status"),_httpStatus2=_interopRequireDefault(_httpStatus),_APIError=require("../helpers/APIError"),_APIError2=_interopRequireDefault(_APIError),UserSchema=new _mongoose2.default.Schema({username:{type:String,required:!0},mobileNumber:{type:String,required:!0,match:[/^[1-9][0-9]{9}$/,"The value of path {PATH} ({VALUE}) is not a valid mobile number."]},createdAt:{type:Date,default:Date.now}});UserSchema.method({}),UserSchema.statics={get:function(e){return this.findById(e).exec().then(function(e){if(e)return e;var t=new _APIError2.default("No such user exists!",_httpStatus2.default.NOT_FOUND);return _bluebird2.default.reject(t)})},list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.skip,r=void 0===t?0:t,u=e.limit,o=void 0===u?50:u;return this.find().sort({createdAt:-1}).skip(r).limit(o).exec()}},exports.default=_mongoose2.default.model("User",UserSchema),module.exports=exports.default;